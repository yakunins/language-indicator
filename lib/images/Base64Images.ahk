#Requires AutoHotkey v2.0

global images := {
	bell: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVpJREFUWEftl22KhDAMhhvQe7g3WW8yQit4ipk9hWCFdU+yc5P1HgoZC84gnbS1H4t/7N9a3ifp2yQCO3jBwfosCqBt2yLLskIIcQ8NJBhASvnLGPtUwgAwcs4/QiCCAKSU10XspgnehBBfvhChAK/oN4J3IUT5rwAq8iXdF0QsKCF1Fcve4JOJ3RnY3rkrSh9POAFWp38/DecSf+4riGmayqZpRtsZJ4BP5ISQ0xdWACmlembKcDGrtNUJFwDldl8YaxZcAOirpn/vMqQRYDXfXyzAet54DUaArusuAKDcn2IdC4CIVV3XA1m8TOGlzMAJcGbgzIB3BhI1odcLXweVimpKb5Uwtfh2PlCZ0CEogOgGZCpuVGN6A+j7PlX9Jzk459V2wzkRpehEUSMZdZj6LwCAQY9uD3xQBgyzgnX0MvpiDyX1jYLI8/yKiOM8zz+u6Tc5QCi4fu4BYqi8IW8/kVgAAAAASUVORK5CYII=",
	transparent: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=",
	circle_red_5px: "iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAyIDc5LmRiYTNkYTNiNSwgMjAyMy8xMi8xNS0xMDo0MjozNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Y2RhMzdhYy1jYjBlLTkzNDEtODA2Ni0yOGVmZDRmNDkwZTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUZBOUI5QTcyM0MxMTFFRjlDNzVFNDQ0NTQwRkI0RDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUZBOUI5QTYyM0MxMTFFRjlDNzVFNDQ0NTQwRkI0RDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzVlOWQ4NDktNzdmYy0xMDRkLWI0NWYtNmY4NzZkZGM0YTIyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjRjZGEzN2FjLWNiMGUtOTM0MS04MDY2LTI4ZWZkNGY0OTBlMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pnw0+9IAAABPSURBVHjaYvz//z8DIcDEQARAUfSRkXETEP8H0SiqQNaB8AcGhk1A/B8Jb4LJMcLcBDIB3Rr+//8Z0a3bjKZmM4Z1aFZuQhZnpFoQAAQYADM+P8ufPPnPAAAAAElFTkSuQmCC",
	circle_green_5px: "iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAyIDc5LmRiYTNkYTNiNSwgMjAyMy8xMi8xNS0xMDo0MjozNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Y2RhMzdhYy1jYjBlLTkzNDEtODA2Ni0yOGVmZDRmNDkwZTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTlGMzhDQjYyM0MzMTFFRjk5RkM4ODM2ODc5NUY1QUEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTlGMzhDQjUyM0MzMTFFRjk5RkM4ODM2ODc5NUY1QUEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzVlOWQ4NDktNzdmYy0xMDRkLWI0NWYtNmY4NzZkZGM0YTIyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjRjZGEzN2FjLWNiMGUtOTM0MS04MDY2LTI4ZWZkNGY0OTBlMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoNi/LQAAABKSURBVHjaYvz//z8DIcDEQARAUcQ4h3ETEP8H0VgVQSV8oVxfZIXIJvmi2eKLTdFmNEUIPsh3MMwwm2ETEP8H0cjijFQLAoAAAwBkBiWi1M0JOgAAAABJRU5ErkJggg==",
	flag_am: "iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAANUlEQVQ4jWO8ySD0n4GKgImahtHEQEYPpUKqepllh6A+Nc2jvpdZAtRPUdVAxk8rGEZYsgEAHeoIrDX7Zb0AAAAASUVORK5CYII=",
}

; embed tray icons as base64 string into AHK script
UseBase64Image(name := "transparent", debug := false) {
	if images.HasOwnProp(name) {
		image := { image: CleanBase64(images.%name%) }
		return image
	}
	return -1
}

CleanBase64(b64str) {
	if InStr(b64str, ",") {
		parts := StrSplit(b64str, ",", 2)
		if parts.Length == 2 and InStr(parts[1], "data") and StrLen(parts[2]) > 2
			return parts[2]
	}
	return b64str
}